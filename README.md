# PaanaakCloudArduinoExample
<div dir="rtl">
    این سوروس کد یک نمونه برای استفاده از پلت فرم اینترنت اشیاء پاناک با  
  زبان سی پلاس پلاس و آردوئینو با ماژول 
  ESP8266
  است.
  در آموزش های دیگر نحوه ایجاد حساب کاربری و ایجاد دستگاه در پنل وب پاناک با متغیر های مورد نظر آموزش داده شده است و فرض بر این است که ما دستگاهی با کلید خصوصی زیر ایجاد کرده ایم. برای مشاهده این آموزش ها به آدرس زیر مراجعه کنید:
    <div dir="rtl">
        <a href="https://www.aparat.com/paanaak/videos">https://www.aparat.com/paanaak/videos</a>
    </div>
    در این دستگاه یک سنسور دما با برچسب 
“temp”
 تعریف شده است و دستگاه دارای 2 متغیر کنترلی یا رله است. برای سادگی نمایش دادن در این آموزش از
 LED
 به جای رله استفاده کرده ایم.
    <div dir="ltr">        
        Secret Key: “17334a71-2988-4234-bf93-59c0b3a7713d”
        Sensor Label: “temp”
    </div>
    آدرس سرویس 
http 
پاناک به صورت زیر است.
    <div dir="ltr">        
        http://paanaak-cloud.ir/api/device/devicecall?
    </div>
    آدرسی که باید برای ارسال و دریافت اطلاعات دستگاه توسط سخت افزار استفاده شود نیز به صورت زیر خواهد بود:
    <div dir="ltr">        
        http://paanaak-cloud.ir/api/device/devicecall?uniqueId=<SecretKey>&<Label1>=<Valu1>&<Label2>=<Valu2>...&state=[01...]<LabelN>=<ValuN>        
    </div>      
که
  state 
در پایان آن وضعیت رله ها به صورت 0 و 1 است و استفاده از آن اختیاری است.
باید تمامی 
Label
 ها در پنل وب برای دستگاه تعریف شده باشند.
برای مثال در این دستگاه آدرس به صورت زیر خواهد بود.
            <div dir="ltr">        
http://paanaak-cloud.ir/api/device/devicecall?uniqueId=17334a71-2988-4234-bf93-59c0b3a7713d&temp=28
        </div>
        پاسخی که دستگاه از سرور دریافت می کند شامل وضعیت رله ها است که توسط کاربر درپنل وب یا اپلیکیشن تنظیم شده اند و عبارتی به صورت زیر خواهد بود.
            <div dir="ltr">        
@<S1><S2><S3><S4>…..<SN>#
              </div>
تعداد بیت های وضعیت رله ها برابر با تعدادی است که در پنل وب برای دستگاه تعریف شده است.
برای مثال برای این دستگاه با دو رله یکی از حالت های زیر خواهد بود:
            <div dir="ltr">        
              @00#
@01#
@10#
@11#

              </div>
              
              با هر سخت افزاری و تحت هر پلتفرمی که این آدرس را بتوان فراخوانی کرد می توان از سرویس پاناک بهره برد. در این کد  به دلیل سادگی استفاده از ماژول
 ESP8266
 مدل
 Wemos D1 mini lite 
که دارای هسته وایفای داخلی است استفاده شده است. به عنوان سنسور دما نیز از سنسور دمای 
DS18B20 
استفاده شده است.
سنسور دما به پایه
 D1 
ماژول و
 LED
 هایی که جایگزین رله هستند به پایه های D5 و D6 متصل هستند.
</div>
<img src="https://github.com/paanaak/PaanaakCloudArduinoExample/blob/main/esp8266Panak.png?raw=true"/>
